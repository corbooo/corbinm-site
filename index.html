<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="assets/favicon.png">
  <link rel="stylesheet" href="assets/css/styles.css?v=3" />
  <link rel="stylesheet" href="assets/css/pages/home.css?v=4" />
  <title>Corbin - Home</title>
</head>

<body>
  <header>
    <nav class="site-nav">
      <div class="nav-group nav-left">
        <a href="assets/Resume.pdf" target="_blank" rel="noopener">Resume</a>
        <a href="https://github.com/corbooo" target="_blank" rel="noopener">GitHub</a>
        <a href="https://www.linkedin.com/in/corbinmoseman/" target="_blank" rel="noopener">LinkedIn</a>
      </div>

      <a class="nav-logo" href="index.html" aria-label="Home">
        <img src="assets/img/logo.png" alt="CM"/>
      </a>

      <div class="nav-group nav-right">
        <a href="about/">About</a>
        <a href="projects/">Projects</a>
        <a href="experience/">Experience</a>
      </div>
    </nav>
  </header>

  <main class="home-page">
    <section class="home-hero">
      <h1 class="home-title">Corbin Moseman</h1>
      <p class="home-subtitle">
        Computer Science student building practical software—APIs, automation, and data-driven tools.
      </p>
      <div class="home-cta">
        <a class="btn btn-primary" href="projects/">View Projects</a>
        <a class="btn btn-quiet" href="assets/Resume.pdf" target="_blank" rel="noopener">Resume</a>
      </div>
    </section>

    <div class="section-divider" role="separator" aria-hidden="true"></div>

    <section id="featured" class="home-featured" aria-label="Featured projects">
      <header class="section-head section-head-row">
        <div>
          <h2 class="section-title">Featured Projects</h2>
          <p class="section-note">Most polished, resume-ready builds.</p>
        </div>
        <div>
          <a class="btn btn-primary" href="projects/">All projects</a>
        </div>
      </header>

      <div id="homeFeaturedGrid" class="row-grid">
        <!-- injected by JS -->
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="footer-inner">
      <p class="footer-copy">
        © <span id="year"></span> Corbin Moseman
      </p>
      <div class="footer-links">
        <a href="mailto:corbinm@pobox.com">Email</a>
        <a href="https://github.com/corbooo" target="_blank" rel="noopener">GitHub</a>
        <a href="https://www.linkedin.com/in/corbinmoseman" target="_blank" rel="noopener">LinkedIn</a>
      </div>
    </div>
  </footer>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    const grid = document.getElementById("homeFeaturedGrid");
    const DATA_URL = "assets/data/projects.json";

    function cardHTML(p) {
      const tagPills = (p.tags || []).slice(0, 5).map(t => `<span class="tag">${t}</span>`).join("");
      const githubBtn = p.github
        ? `<a class="btn btn-primary" href="${p.github}" target="_blank" rel="noopener">GitHub</a>`
        : "";
      const liveBtn = p.live
        ? `<a class="btn btn-quiet" href="${p.live}" target="_blank" rel="noopener">Live</a>`
        : "";

      return `
        <article class="card">
          <div class="card-title-row">
            <h3 class="card-title">${p.title || ""}</h3>
            <span class="badge">Featured</span>
          </div>
          <p class="card-desc">${p.desc || ""}</p>
          <div class="tag-row">${tagPills}</div>
          <div class="actions">${githubBtn}${liveBtn}</div>
        </article>
      `;
    }

    async function initFeatured() {
      const res = await fetch(DATA_URL, { cache: "no-store" });
      const projects = await res.json();
      const featured = (projects || []).filter(p => p.tier === "featured");
      grid.innerHTML = featured.map(cardHTML).join("");
    }

    initFeatured().catch(() => {
      grid.innerHTML = "<p>Could not load featured projects.</p>";
    });
  </script>
</body>
</html>
